name: Win32
on: [ push,pull_request ]
jobs:
  build-msvc:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v2
      - name: Prepare
        run: mkdir _build && cd _build && cmake ..
      - name: Build
        run: cmake --build _build
      - name: List files
        run: tree
  build-clang:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v2
      - name: Check Clang
        shell: bash
        run: C:\msys64\mingw64\bin\clang.exe -v && echo "PATH=$PATH:C:\msys64\mingw64\bin" >> $GITHUB_ENV
      - name: Prepare
        shell: bash
        run: mkdir _build && cd _build && CC=clang cmake .. -DCMAKE_C_COMPILER:PATH="C:\msys64\mingw64\bin\clang.exe"
      - name: Build
        run: cmake --build _build
      - name: List files
        run: tree

